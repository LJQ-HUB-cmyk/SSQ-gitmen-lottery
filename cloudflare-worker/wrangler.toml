name = "lottery-prediction"
main = "src/index.js"
compatibility_date = "2024-01-01"

# 环境变量
[vars]
ENVIRONMENT = "production"
DEFAULT_STRATEGIES = "frequency,random,balanced,coldHot"  # 默认预测策略，多个策略用逗号分隔
DEFAULT_PREDICTION_COUNT = "4"    # 默认预测条数

# D1 数据库绑定
[[d1_databases]]
binding = "DB"
database_name = "lottery_db"
database_id = "01343890-8135-492e-b9c5-34b57a4532e1"

# KV 命名空间绑定（用于存储配置）
[[kv_namespaces]]
binding = "KV_BINDING"
id = "60a5e4f34c4e46e9aedcf7a3cb4d52ea"

# 说明：
# 1. 定时任务通过 Cloudflare Dashboard 的触发器配置
# 2. 配置信息存储在 KV 中：
#    - TELEGRAM_BOT_TOKEN
#    - TELEGRAM_CHAT_ID
#    - API_KEY

[observability]
[observability.logs]
enabled = false
head_sampling_rate = 1
invocation_logs = true
persist = true

[observability]
[observability.traces]
enabled = false
head_sampling_rate = 1
persist = true