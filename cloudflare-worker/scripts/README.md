# Cloudflare Worker è„šæœ¬è¯´æ˜

## ğŸ“‹ è„šæœ¬åˆ—è¡¨

### 1. init.sh âœ…ï¼ˆå·²æ›´æ–°ï¼‰

**åŠŸèƒ½**ï¼šæ‰¹é‡å¯¼å…¥å†å²æ•°æ®

**æ”¯æŒ**ï¼š
- âœ… åŒè‰²çƒï¼ˆssqï¼‰
- âœ… å¤§ä¹é€ï¼ˆdltï¼‰
- âœ… æ‰€æœ‰ç±»å‹ï¼ˆä¸å¸¦å‚æ•°ï¼‰

**ä½¿ç”¨**ï¼š
```bash
# æ‰€æœ‰ç±»å‹ï¼ˆæ¨èï¼‰
./scripts/init.sh

# æŒ‡å®šç±»å‹
./scripts/init.sh ssq    # ä»…åŒè‰²çƒ
./scripts/init.sh dlt    # ä»…å¤§ä¹é€
```

**æ–‡æ¡£**ï¼š[INIT_USAGE.md](./INIT_USAGE.md)

### 2. test-incremental.sh â³ï¼ˆå¾…æ›´æ–°ï¼‰

**åŠŸèƒ½**ï¼šæµ‹è¯•å¢é‡çˆ¬å–

**å½“å‰çŠ¶æ€**ï¼šä»…æ”¯æŒåŒè‰²çƒ

**éœ€è¦æ›´æ–°**ï¼šæ·»åŠ å½©ç¥¨ç±»å‹å‚æ•°

**å»ºè®®ç”¨æ³•**ï¼š
```bash
# åŒè‰²çƒ
./scripts/test-incremental.sh ssq

# å¤§ä¹é€
./scripts/test-incremental.sh dlt
```

### 3. diagnose.sh â³ï¼ˆå¾…æ›´æ–°ï¼‰

**åŠŸèƒ½**ï¼šè¯Šæ–­å·¥å…·

**å½“å‰çŠ¶æ€**ï¼šä»…æ”¯æŒåŒè‰²çƒ

**éœ€è¦æ›´æ–°**ï¼šæ·»åŠ å½©ç¥¨ç±»å‹å‚æ•°

**å»ºè®®ç”¨æ³•**ï¼š
```bash
# åŒè‰²çƒ
./scripts/diagnose.sh ssq

# å¤§ä¹é€
./scripts/diagnose.sh dlt
```

### 4. set-strategies.sh â³ï¼ˆå¾…æ›´æ–°ï¼‰

**åŠŸèƒ½**ï¼šè®¾ç½®é¢„æµ‹ç­–ç•¥

**å½“å‰çŠ¶æ€**ï¼šå…¨å±€é…ç½®

**éœ€è¦æ›´æ–°**ï¼šæ”¯æŒæŒ‰å½©ç¥¨ç±»å‹é…ç½®

**å»ºè®®ç”¨æ³•**ï¼š
```bash
# åŒè‰²çƒ
./scripts/set-strategies.sh ssq frequency,balanced,coldHot 15

# å¤§ä¹é€
./scripts/set-strategies.sh dlt frequency,coldHot 10
```

## ğŸ”§ æ›´æ–°è®¡åˆ’

### ä¼˜å…ˆçº§1ï¼šinit.sh âœ…
- [x] æ”¯æŒå½©ç¥¨ç±»å‹å‚æ•°
- [x] æ›´æ–° API è°ƒç”¨è·¯å¾„
- [x] æ›´æ–°æç¤ºä¿¡æ¯
- [x] åˆ›å»ºä½¿ç”¨æ–‡æ¡£

### ä¼˜å…ˆçº§2ï¼štest-incremental.sh â³
- [ ] æ·»åŠ å½©ç¥¨ç±»å‹å‚æ•°
- [ ] æ›´æ–° API è°ƒç”¨è·¯å¾„
- [ ] æµ‹è¯•åŒè‰²çƒå’Œå¤§ä¹é€

### ä¼˜å…ˆçº§3ï¼šdiagnose.sh â³
- [ ] æ·»åŠ å½©ç¥¨ç±»å‹å‚æ•°
- [ ] æ›´æ–°è¯Šæ–­é€»è¾‘
- [ ] æ”¯æŒå¤šå½©ç¥¨ç±»å‹æ£€æŸ¥

### ä¼˜å…ˆçº§4ï¼šset-strategies.sh â³
- [ ] æ”¯æŒæŒ‰å½©ç¥¨ç±»å‹é…ç½®
- [ ] æ›´æ–°é…ç½®é€»è¾‘
- [ ] åˆ›å»ºä½¿ç”¨æ–‡æ¡£

## ğŸ“– ä½¿ç”¨æŒ‡å—

### å¿«é€Ÿå¼€å§‹

```bash
# 1. é…ç½®ç¯å¢ƒ
cp ../.env.example ../.env
vim ../.env

# 2. åˆå§‹åŒ–æ‰€æœ‰ç±»å‹ï¼ˆæ¨èï¼‰
./init.sh

# æˆ–è€…åˆ†åˆ«åˆå§‹åŒ–
./init.sh ssq    # ä»…åŒè‰²çƒ
./init.sh dlt    # ä»…å¤§ä¹é€
```

### é…ç½®æ–‡ä»¶

åœ¨ `../.env` æ–‡ä»¶ä¸­é…ç½®ï¼š

```bash
# Worker URL
WORKER_URL=https://your-worker.workers.dev

# API Key
API_KEY=your-api-key

# çˆ¬å–é—´éš”ï¼ˆç§’ï¼‰
SLEEP_TIME=120

# æ¯æ—¥è¯·æ±‚é™åˆ¶
DAILY_REQUEST_LIMIT=500

# æ˜¯å¦è‡ªåŠ¨è·¨å¤©ç»§ç»­
AUTO_CONTINUE=false
```

## ğŸ“š æ–‡æ¡£

- [init.sh ä½¿ç”¨æŒ‡å—](./INIT_USAGE.md) - è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜
- [API ä½¿ç”¨æ–‡æ¡£](../API_USAGE.md) - API æ¥å£è¯´æ˜
- [Worker æ›´æ–°æŒ‡å—](../WORKER_DLT_UPDATE_GUIDE.md) - Worker æ›´æ–°æ­¥éª¤

## ğŸ¯ ä¸‹ä¸€æ­¥

### ç«‹å³å¯ç”¨
- âœ… `init.sh` - å·²æ›´æ–°ï¼Œå¯ä»¥ä½¿ç”¨

### å¾…æ›´æ–°
- â³ `test-incremental.sh` - éœ€è¦æ·»åŠ å½©ç¥¨ç±»å‹å‚æ•°
- â³ `diagnose.sh` - éœ€è¦æ·»åŠ å½©ç¥¨ç±»å‹å‚æ•°
- â³ `set-strategies.sh` - éœ€è¦æ”¯æŒæŒ‰ç±»å‹é…ç½®

### å»ºè®®
1. å…ˆä½¿ç”¨ `init.sh` åˆå§‹åŒ–æ•°æ®
2. ç­‰å¾…å…¶ä»–è„šæœ¬æ›´æ–°åå†ä½¿ç”¨
3. æˆ–æ‰‹åŠ¨è°ƒç”¨ API æ¥å£è¿›è¡Œæµ‹è¯•

## ğŸ”— ç›¸å…³é“¾æ¥

- [Cloudflare Worker æ–‡æ¡£](https://developers.cloudflare.com/workers/)
- [D1 æ•°æ®åº“æ–‡æ¡£](https://developers.cloudflare.com/d1/)
- [KV å­˜å‚¨æ–‡æ¡£](https://developers.cloudflare.com/kv/)

---

**ç‰ˆæœ¬**ï¼š3.0.0  
**æ›´æ–°æ—¥æœŸ**ï¼š2025-11-18  
**çŠ¶æ€**ï¼šå·²æ›´æ–°ï¼Œä½¿ç”¨ç»Ÿä¸€çš„å¢é‡çˆ¬å–é€»è¾‘
